<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>Lista com objeto Fetch JS</h1>
	<div id="resposta"></div>
	
	<script type="text/javascript">
		document.getElementById("resposta").innerHTML = "aguarde, carregando...";
		
		fetch('Controller?m=ListarProdutos')
		  .then(response => response.json())
		  .then(data => mostrarDados(data));
		
		function mostrarDados(dados) {

			var tab = "<table border='1'>";
			tab += "<th>id</th>";
			tab += "<th>Descrição</th>";
			tab += "<th>Marca</th>";
			tab += "<th>Custo</th>";
			tab += "<th>Venda</th>";
			tab += "<th>Quantidade</th>";
				
			for (var i in dados) {
				console.log(i);
				console.log(dados[i]);
				tab += "<tr>";
				tab += "<td>" + dados[i].idProduto + "</td>";
				tab += "<td>" + dados[i].descricao + "</td>";
				tab += "<td>" + dados[i].marca + "</td>";
				tab += "<td>" + dados[i].custo + "</td>";
				tab += "<td>" + dados[i].venda + "</td>";
				tab += "<td>" + dados[i].quantidade + "</td>";
				tab += "</tr>";
			}
				
				tab += "</table>";
				
				document.getElementById("resposta").innerHTML = tab;
		}
	
	
	</script>
	
</body>
</html>